#!/usr/bin/env ruby
$:.unshift File.expand_path('../../lib', __FILE__)

require 'wukong'
require 'configliere'

Settings.use(:commandline)
Settings.define :proc, flag: 'p'
Settings.resolve!

wu_file   = Settings.rest.first
load wu_file 
processor = Settings.proc || File.basename(wu_file, '.rb')

Wukong::LocalDriver.run(processor.to_sym, Settings)
